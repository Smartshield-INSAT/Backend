FROM node:23.1-alpine
WORKDIR /app
RUN npm install -g pnpm
RUN npm install -g nx
COPY /package.json /pnpm-lock.yaml ./
RUN pnpm install --prod --frozen-lockfile
COPY ./ ./
EXPOSE 3000
ENV NODE_ENV=production
CMD ["pnpm", "start"]
